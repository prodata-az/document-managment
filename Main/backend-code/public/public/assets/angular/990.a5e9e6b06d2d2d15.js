"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[990],{9990:(b,f,n)=>{n.r(f),n.d(f,{CompanyProfileModule:()=>I});var C=n(6895),a=n(4006),c=n(2340),v=n(2676),e=n(4650),h=n(8988),y=n(1076),g=n(7185),S=n(3023),t=n(6107),l=n(690),m=n(3546),A=n(9383);function E(o,d){if(1&o&&e._UZ(0,"img",35),2&o){const r=e.oxw();e.Q6J("src",r.imgSrc,e.LSH)}}function P(o,d){1&o&&e._UZ(0,"img",36)}function _(o,d){if(1&o&&e._UZ(0,"img",35),2&o){const r=e.oxw();e.Q6J("src",r.bannerSrc,e.LSH)}}function T(o,d){1&o&&e._UZ(0,"img",37)}const U=function(){return["/dashboard"]};let M=(()=>{class o extends v.H{constructor(r,i,u,s,p,R,w,N){super(),this.route=r,this.fb=i,this.companyProfileService=u,this.router=s,this.toastrService=p,this.securityService=R,this.translationService=w,this.commonService=N,this.imgSrc="",this.bannerSrc="",this.isLoading=!1}ngOnInit(){this.createform(),this.getCurrencies(),this.route.data.subscribe(r=>{this.companyProfileForm.patchValue(r.profile),r.profile.logoUrl&&(this.imgSrc=c.N.apiUrl+r.profile.logoUrl),r.profile.bannerUrl&&(this.bannerSrc=c.N.apiUrl+r.profile.bannerUrl)})}createform(){this.companyProfileForm=this.fb.group({id:[""],title:["",[a.kI.required]],logoUrl:[""],imageData:[],bannerUrl:[""],bannerData:[""]})}getCurrencies(){}saveCompanyProfile(){if(this.companyProfileForm.invalid)return void this.companyProfileForm.markAllAsTouched();const r=this.companyProfileForm.getRawValue();this.isLoading=!0,this.companyProfileService.updateCompanyProfile(r).subscribe(i=>{i.languages&&i.languages.forEach(u=>{u.imageUrl=`${c.N.apiUrl}${u.imageUrl}`}),this.isLoading=!1,this.securityService.updateProfile(i),this.toastrService.success(this.translationService.getValue("COMPANY_PROFILE_UPDATED_SUCCESSFULLY")),this.router.navigate(["dashboard"])},()=>this.isLoading=!1)}onFileSelect(r){const i=r.target.files[0];if(!i||null==i.type.match(/image\/*/))return;const s=new FileReader;s.readAsDataURL(i),s.onload=p=>{this.imgSrc=s.result,this.companyProfileForm.patchValue({imageData:s.result.toString(),logoUrl:i.name}),r.target.value=""}}onBannerChange(r){const i=r.target.files[0];if(!i||null==i.type.match(/image\/*/))return;const s=new FileReader;s.readAsDataURL(i),s.onload=p=>{this.bannerSrc=s.result,this.companyProfileForm.patchValue({bannerData:s.result.toString(),bannerUrl:i.name}),r.target.value=""}}}return o.\u0275fac=function(r){return new(r||o)(e.Y36(h.gz),e.Y36(a.QS),e.Y36(y.V),e.Y36(h.F0),e.Y36(g._W),e.Y36(S.I),e.Y36(t.D),e.Y36(l.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-company-profile"]],features:[e.qOj],decls:64,vars:31,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[1,"breadcrumb-main"],[1,"row"],[1,"col-6"],[1,"breadcrumb-title"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12"],[1,"card"],[1,"body"],[3,"formGroup","ngSubmit"],[1,"col-md-6"],[1,"col-md-12"],[1,"form-label"],["formControlName","title","type","text",1,"form-control","w-100"],[1,"col-md-8"],["for",""],[1,"cus-mat-card"],["hidden","","name","logo","type","file","name","Profile Photo","fxFlex","30",3,"change"],["fileInput",""],["class","full-width company-logo",3,"src",4,"ngIf"],["class","full-width company-logo","src","assets/images/logo.png",4,"ngIf"],["type","button",1,"btn","btn-success","btn-sm","mb-2",3,"click"],[1,"far","fa-image"],["fileInput1",""],["class","full-width company-logo","src","assets/images/login-image.png",4,"ngIf"],[1,"m-t-10","col-md-12"],["type","submit","cdkFocusInitial","",1,"btn","btn-green","btn-success","btn-sm","m-r-10"],["width","16","height","16","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","check-circle","stroke","white"],["id","Icon","d","M22 11.08V12C21.9988 14.1564 21.3005 16.2547 20.0093 17.9818C18.7182 19.709 16.9033 20.9725 14.8354 21.5839C12.7674 22.1953 10.5573 22.1219 8.53447 21.3746C6.51168 20.6273 4.78465 19.2461 3.61096 17.4371C2.43727 15.628 1.87979 13.4881 2.02168 11.3363C2.16356 9.18455 2.99721 7.13631 4.39828 5.49706C5.79935 3.85781 7.69279 2.71537 9.79619 2.24013C11.8996 1.7649 14.1003 1.98232 16.07 2.85999M22 3.99999L12 14.01L9.00001 11.01","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["type","button",1,"btn","btn-red","btn-danger","btn-sm",3,"routerLink"],["width","16","height","16","viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["id","trash-2","stroke","red"],["id","Icon","d","M3.6875 6H5.6875M5.6875 6H21.6875M5.6875 6V20C5.6875 20.5304 5.89821 21.0391 6.27329 21.4142C6.64836 21.7893 7.15707 22 7.6875 22H17.6875C18.2179 22 18.7266 21.7893 19.1017 21.4142C19.4768 21.0391 19.6875 20.5304 19.6875 20V6H5.6875ZM8.6875 6V4C8.6875 3.46957 8.89821 2.96086 9.27329 2.58579C9.64836 2.21071 10.1571 2 10.6875 2H14.6875C15.2179 2 15.7266 2.21071 16.1017 2.58579C16.4768 2.96086 16.6875 3.46957 16.6875 4V6M10.6875 11V17M14.6875 11V17","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"full-width","company-logo",3,"src"],["src","assets/images/logo.png",1,"full-width","company-logo"],["src","assets/images/login-image.png",1,"full-width","company-logo"]],template:function(r,i){if(1&r){const u=e.EpF();e.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()()(),e.TgZ(10,"div",4)(11,"div",7)(12,"div",8)(13,"div",9)(14,"form",10),e.NdJ("ngSubmit",function(){return i.saveCompanyProfile()}),e.TgZ(15,"div",4)(16,"div",11)(17,"div",12)(18,"label",13),e._uU(19),e.ALo(20,"translate"),e.qZA(),e._UZ(21,"input",14),e.qZA(),e.TgZ(22,"div",12)(23,"div",15)(24,"label",16),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.TgZ(27,"mat-card",17)(28,"input",18,19),e.NdJ("change",function(p){return i.onFileSelect(p)}),e.qZA(),e.YNc(30,E,1,1,"img",20),e.YNc(31,P,1,0,"img",21),e.TgZ(32,"mat-card-actions")(33,"button",22),e.NdJ("click",function(){e.CHM(u);const p=e.MAs(29);return e.KtG(p.click())}),e._UZ(34,"i",23),e._uU(35),e.ALo(36,"translate"),e.qZA()()()()()(),e.TgZ(37,"div",11)(38,"label",16),e._uU(39),e.ALo(40,"translate"),e.qZA(),e.TgZ(41,"mat-card",17)(42,"input",18,24),e.NdJ("change",function(p){return i.onBannerChange(p)}),e.qZA(),e.YNc(44,_,1,1,"img",20),e.YNc(45,T,1,0,"img",25),e.TgZ(46,"mat-card-actions")(47,"button",22),e.NdJ("click",function(){e.CHM(u);const p=e.MAs(43);return e.KtG(p.click())}),e._UZ(48,"i",23),e._uU(49),e.ALo(50,"translate"),e.qZA()()()(),e.TgZ(51,"div",26)(52,"button",27),e.O4$(),e.TgZ(53,"svg",28)(54,"g",29),e._UZ(55,"path",30),e.qZA()(),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.kcU(),e.TgZ(58,"button",31),e.O4$(),e.TgZ(59,"svg",32)(60,"g",33),e._UZ(61,"path",34),e.qZA()(),e._uU(62),e.ALo(63,"translate"),e.qZA()()()()()()()()()()}2&r&&(e.xp6(8),e.Oqu(e.lcZ(9,14,"COMPANY_PROFILE")),e.xp6(6),e.Q6J("formGroup",i.companyProfileForm),e.xp6(5),e.Oqu(e.lcZ(20,16,"TITLE")),e.xp6(6),e.Oqu(e.lcZ(26,18,"LOGO")),e.xp6(5),e.Q6J("ngIf",i.imgSrc),e.xp6(1),e.Q6J("ngIf",!i.imgSrc),e.xp6(4),e.hij(" ",e.lcZ(36,20,"CHANGE_LOGO"),""),e.xp6(4),e.Oqu(e.lcZ(40,22,"BANNER_IMAGE")),e.xp6(5),e.Q6J("ngIf",i.bannerSrc),e.xp6(1),e.Q6J("ngIf",!i.bannerSrc),e.xp6(4),e.hij(" ",e.lcZ(50,24,"CHANGE_BANNER"),""),e.xp6(7),e.hij(" ",e.lcZ(57,26,"SAVE"),""),e.xp6(2),e.Q6J("routerLink",e.DdM(30,U)),e.xp6(4),e.hij(" ",e.lcZ(63,28,"CANCEL"),""))},dependencies:[C.O5,h.rH,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,m.a8,m.hq,A.X$],styles:[".company-logo[_ngcontent-%COMP%]{padding:10px}",".btn-green[_ngcontent-%COMP%]{\n      background: #32977F !important;\n    }\n    .btn-green[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{\n      color: #ffff !important;\n      width: 20px !important;\n      height: 20px !important;\n    }\n    .btn-green-color[_ngcontent-%COMP%]{\n      color: #ffff !important;\n    }\n    .btn-red[_ngcontent-%COMP%]{\n      border: 1px solid red !important;\n      background-color: white !important;\n      color: red !important;\n    }\n    \n    .btn-red[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{\n      color: red !important;\n      width: 20px !important;\n      height: 20px !important;\n    }"]}),o})();var Z=n(319),L=n(1539);const O=[{path:"",component:M,data:{claimType:"SETTING_MANAGE_PROFILE"},canActivate:[Z.a],resolve:{profile:L.X}}];let F=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[h.Bz.forChild(O),h.Bz]}),o})();var x=n(3417),D=n(4385);let I=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[C.ez,F,x.m,a.UX,m.QW,D.LD]}),o})()},2760:(b,f,n)=>{n.d(f,{c:()=>a});const a=[{id:0,name:"Daily"},{id:1,name:"Weekly"},{id:2,name:"Monthly"},{id:3,name:"Quarterly"},{id:4,name:"Half Yearly"},{id:5,name:"Yearly"}]},690:(b,f,n)=>{n.d(f,{v:()=>y});var C=n(529),a=n(9646),c=n(262),v=n(2760),e=n(4650),h=n(8032);let y=(()=>{class g{constructor(t,l){this.httpClient=t,this.commonHttpErrorService=l}getUsers(){return this.httpClient.get("user").pipe((0,c.K)(this.commonHttpErrorService.handleError))}getUsersForDropdown(){return this.httpClient.get("user-dropdown").pipe((0,c.K)(this.commonHttpErrorService.handleError))}getRoles(){return this.httpClient.get("role").pipe((0,c.K)(this.commonHttpErrorService.handleError))}getRolesForDropdown(){return this.httpClient.get("role-dropdown").pipe((0,c.K)(this.commonHttpErrorService.handleError))}getMyReminder(t){return this.httpClient.get(`reminder/${t}/myreminder`).pipe((0,c.K)(this.commonHttpErrorService.handleError))}getReminder(t){return this.httpClient.get(`reminder/${t}`).pipe((0,c.K)(this.commonHttpErrorService.handleError))}addDocumentAuditTrail(t){return this.httpClient.post("documentAuditTrail",t).pipe((0,c.K)(this.commonHttpErrorService.handleError))}downloadDocument(t,l){return this.httpClient.get(`document/${t}/download/${l} `,{reportProgress:!0,observe:"events",responseType:"blob"})}isDownloadFlag(t,l){return this.httpClient.get(`document/${t}/isDownloadFlag/isPermission/${l}`)}getDocumentToken(t){return this.httpClient.get(`documentToken/${t}/token`)}deleteDocumentToken(t){return this.httpClient.delete(`documentToken/${t}`)}readDocument(t,l){return this.httpClient.get(`document/${t}/readText/${l}`)}getReminderFrequency(){return(0,a.of)(v.c)}getAllRemindersForCurrentUser(t){const m=(new C.LE).set("fields",t.fields?t.fields:"").set("orderBy",t.orderBy?t.orderBy:"").set("pageSize",t.pageSize.toString()).set("skip",t.skip.toString()).set("searchQuery",t.searchQuery?t.searchQuery:"").set("subject",t.subject?t.subject:"").set("message",t.message?t.message:"").set("frequency",t.frequency?t.frequency:"");return this.httpClient.get("reminder/all/currentuser",{params:m,observe:"response"})}deleteReminderCurrentUser(t){return this.httpClient.delete(`reminder/currentuser/${t}`)}}return g.\u0275fac=function(t){return new(t||g)(e.LFG(C.eN),e.LFG(h.U))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);