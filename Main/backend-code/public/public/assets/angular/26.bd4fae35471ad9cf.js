"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[26],{1312:(b,v,s)=>{s.d(v,{E:()=>d});class d{constructor(){this.totalCount=0,this.pageSize=0,this.skip=0,this.totalPages=0}}},7954:(b,v,s)=>{s.d(v,{g:()=>d});var d=(()=>{return(l=d||(d={})).Read="Read",l.Created="Created",l.Modified="Modified",l.Deleted="Deleted",l.Add_Permission="Add_Permission",l.Remove_Permission="Remove_Permission",l.Send_Email="Send_Email",l.Download="Download",d;var l})()},4913:(b,v,s)=>{s.d(v,{J:()=>l});var d=s(5519);class l extends d.r{constructor(){super(...arguments),this.id="",this.createdBy="",this.categoryId=""}}},914:(b,v,s)=>{s.d(v,{Z:()=>y});var d=s(529),l=s(262),w=s(4650),P=s(8032);let y=(()=>{class e{constructor(n,m){this.httpClient=n,this.commonHttpErrorService=m}updateDocument(n){return n.documentMetaDatas=n.documentMetaDatas?.filter(c=>c.metatag),this.httpClient.put(`document/${n.id}`,n).pipe((0,l.K)(this.commonHttpErrorService.handleError))}addDocument(n){n.documentMetaDatas=n.documentMetaDatas?.filter(O=>O.metatag);const c=new FormData;return c.append("uploadFile",n.fileData),c.append("name",n.name),c.append("square",n.square),c.append("farmerid",n.farmerid),c.append("violation",n.violation),c.append("status",n.status),c.append("district",n.district),c.append("categoryId",n.categoryId),c.append("categoryName",n.categoryName),c.append("description",n.description),c.append("documentMetaDatas",JSON.stringify(n.documentMetaDatas)),c.append("documentRolePermissions",JSON.stringify(n.documentRolePermissions??[])),c.append("documentUserPermissions",JSON.stringify(n.documentUserPermissions??[])),this.httpClient.post("document",c).pipe((0,l.K)(this.commonHttpErrorService.handleError))}deleteDocument(n){return this.httpClient.delete(`document/${n}`).pipe((0,l.K)(this.commonHttpErrorService.handleError))}getDocument(n){return this.httpClient.get(`document/${n}`).pipe((0,l.K)(this.commonHttpErrorService.handleError))}getDocuments(n){const c=(new d.LE).set("fields",n.fields).set("orderBy",n.orderBy).set("createDateString",n.createDate?n.createDate.toString():"").set("pageSize",n.pageSize.toString()).set("skip",n.skip.toString()).set("searchQuery",n.searchQuery).set("categoryId",n.categoryId).set("name",n.name).set("metaTags",n.metaTags).set("id",n.id.toString());return this.httpClient.get("documents",{params:c,observe:"response"}).pipe((0,l.K)(this.commonHttpErrorService.handleError))}saveNewVersionDocument(n){const c=new FormData;return c.append("uploadFile",n.fileData),c.append("documentId",n.documentId),this.httpClient.post("documentversion",c).pipe((0,l.K)(this.commonHttpErrorService.handleError))}getDocumentVersion(n){return this.httpClient.get(`documentversion/${n}`).pipe((0,l.K)(this.commonHttpErrorService.handleError))}restoreDocumentVersion(n,m){return this.httpClient.post(`documentversion/${n}/restore/${m}`,{}).pipe((0,l.K)(this.commonHttpErrorService.handleError))}getdocumentMetadataById(n){return this.httpClient.get(`document/${n}/getMetatag`).pipe((0,l.K)(this.commonHttpErrorService.handleError))}}return e.\u0275fac=function(n){return new(n||e)(w.LFG(d.eN),w.LFG(P.U))},e.\u0275prov=w.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},6927:(b,v,s)=>{s.d(v,{Y:()=>oe});var d=s(529),l=s(7954),w=s(2340),P=s(5854),y=s(2676),e=s(4650),x=s(1218),n=s(690),m=s(8265),c=s(4786),O=s(7185),L=s(6107),_=s(6895),u=s(1572),D=s(4086),a=s(1481);function f(o,r){if(1&o&&(e.TgZ(0,"div",2),e._UZ(1,"img",3),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH)("alt",t.document.name)}}function p(o,r){1&o&&(e.TgZ(0,"div",4),e._UZ(1,"mat-spinner"),e.qZA())}let T=(()=>{class o extends y.H{constructor(t,i,h,g){super(),this.overlayRef=t,this.sanitizer=i,this.ref=h,this.commonService=g,this.isLoading=!1}ngOnInit(){}ngOnChanges(t){t.document&&this.getImage()}getImage(){this.isLoading=!0,this.sub$.sink=this.commonService.downloadDocument(this.document.documentId,this.document.isVersion).pipe((0,D.g)(500)).subscribe(t=>{if(this.isLoading=!1,t.type===d.dt.Response){const i=new Blob([t.body],{type:t.body.type});this.imageUrl=this.sanitizer.bypassSecurityTrustUrl(URL.createObjectURL(i)),this.ref.markForCheck()}},t=>{this.isLoading=!1})}onCancel(){this.overlayRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.L),e.Y36(a.H7),e.Y36(e.sBO),e.Y36(n.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-image-preview"]],inputs:{document:"document"},features:[e.qOj,e.TTD],decls:2,vars:2,consts:[["class","center-img m-5",4,"ngIf"],["class","loading-shade",4,"ngIf"],[1,"center-img","m-5"],[1,"img-fluid","custom-img",3,"src","alt"],[1,"loading-shade"]],template:function(t,i){1&t&&(e.YNc(0,f,2,2,"div",0),e.YNc(1,p,2,0,"div",1)),2&t&&(e.Q6J("ngIf",i.imageUrl),e.xp6(1),e.Q6J("ngIf",i.isLoading))},dependencies:[_.O5,u.Ou],styles:[".center-img[_ngcontent-%COMP%]{text-align:center}.custom-img[_ngcontent-%COMP%]{max-height:calc(100vh - 160px)}"]}),o})();var C=s(3930);function S(o,r){1&o&&(e.TgZ(0,"div",3)(1,"div",4),e._UZ(2,"pdf-toggle-sidebar")(3,"pdf-page-number")(4,"pdf-zoom-out")(5,"pdf-zoom-in")(6,"pdf-zoom-dropdown")(7,"pdf-rotate-page"),e.TgZ(8,"div",5),e._UZ(9,"pdf-toggle-secondary-toolbar"),e.qZA()()()),2&o&&(e.xp6(1),e.ekj("invisible",!1))}function I(o,r){1&o&&(e.TgZ(0,"div",6),e._UZ(1,"mat-spinner"),e.qZA())}let B=(()=>{class o extends y.H{constructor(t){super(),this.commonService=t,this.loadingTime=2e3,this.documentUrl=null,this.isLoading=!1}ngOnChanges(t){t.document&&this.getDocument()}getDocument(){this.isLoading=!0,this.sub$.sink=this.commonService.downloadDocument(this.document.documentId,this.document.isVersion).subscribe(t=>{t.type===d.dt.Response&&(this.isLoading=!1,this.downloadFile(t))},t=>{this.isLoading=!1})}downloadFile(t){this.documentUrl=new Blob([t.body],{type:t.body.type})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(n.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-pdf-viewer"]],inputs:{document:"document"},features:[e.qOj,e.TTD],decls:4,vars:19,consts:[["height","91vh",3,"src","showToolbar","showSidebarButton","showFindButton","showPagingButtons","showZoomButtons","showPresentationModeButton","showOpenFileButton","showPrintButton","showDownloadButton","showBookmarkButton","showSecondaryToolbarButton","showRotateButton","showHandToolButton","showScrollingButton","showSpreadButton","showPropertiesButton","useBrowserLocale"],["customCheckboxZoomToolbar",""],["class","loading-shade",4,"ngIf"],["id","toolbarViewer"],["id","toolbarViewerMiddle"],[1,"float:right"],[1,"loading-shade"]],template:function(t,i){1&t&&(e._UZ(0,"ngx-extended-pdf-viewer",0),e.YNc(1,S,10,2,"ng-template",null,1,e.W1O),e.YNc(3,I,2,0,"div",2)),2&t&&(e.Q6J("src",i.documentUrl)("showToolbar",!0)("showSidebarButton",!0)("showFindButton",!0)("showPagingButtons",!0)("showZoomButtons",!0)("showPresentationModeButton",!0)("showOpenFileButton",!1)("showPrintButton",!1)("showDownloadButton",!1)("showBookmarkButton",!1)("showSecondaryToolbarButton",!0)("showRotateButton",!0)("showHandToolButton",!0)("showScrollingButton",!0)("showSpreadButton",!1)("showPropertiesButton",!1)("useBrowserLocale",!1),e.xp6(3),e.Q6J("ngIf",i.isLoading))},dependencies:[_.O5,C.U2,C.Zu,C.nO,C.eE,C.cm,C.IS,C.mR,C.S3,u.Ou]}),o})();function R(o,r){if(1&o&&(e.TgZ(0,"pre"),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t)}}function k(o,r){1&o&&(e.TgZ(0,"div"),e._UZ(1,"br"),e.qZA())}function U(o,r){if(1&o&&(e.ynx(0),e.YNc(1,R,2,1,"pre",3),e.YNc(2,k,2,0,"div",3),e.BQk()),2&o){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t),e.xp6(1),e.Q6J("ngIf",!t)}}function A(o,r){1&o&&(e.TgZ(0,"div",4),e._UZ(1,"mat-spinner"),e.qZA())}let M=(()=>{class o extends y.H{constructor(t,i){super(),this.commonService=t,this.overlayRef=i,this.textLines=[],this.isLoading=!1}ngOnChanges(t){t.document&&this.readDocument()}readDocument(){this.isLoading=!0,this.sub$.sink=this.commonService.readDocument(this.document.documentId,this.document.isVersion).subscribe(t=>{this.isLoading=!1,this.textLines=t.result},t=>{this.isLoading=!1})}onCancel(){this.overlayRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(n.v),e.Y36(c.L))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-text-preview"]],inputs:{document:"document"},features:[e.qOj,e.TTD],decls:3,vars:2,consts:[[1,"m-5","text-main-div"],[4,"ngFor","ngForOf"],["class","loading-shade",4,"ngIf"],[4,"ngIf"],[1,"loading-shade"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,U,3,2,"ng-container",1),e.qZA(),e.YNc(2,A,2,0,"div",2)),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.textLines),e.xp6(1),e.Q6J("ngIf",i.isLoading))},dependencies:[_.sg,_.O5,u.Ou],styles:[".text-div[_ngcontent-%COMP%]{word-wrap:break-word}.text-main-div[_ngcontent-%COMP%]{overflow:auto;height:75vh;background-color:#fff;padding:20px}pre[_ngcontent-%COMP%]{display:block;white-space:pre-wrap;word-wrap:break-word;margin:0;padding:0!important;font-size:1rem;font-family:inherit}"]}),o})();const Y=["iframe"];function F(o,r){1&o&&e._UZ(0,"iframe",3,4)}function N(o,r){1&o&&(e.TgZ(0,"div",5),e._UZ(1,"img",6),e.TgZ(2,"h5"),e._uU(3,"Microsoft Office Viewer does not support the localhost. please host your Project on domain and try again."),e.qZA()())}function V(o,r){1&o&&(e.TgZ(0,"div",7),e._UZ(1,"mat-spinner"),e.qZA())}let Q=(()=>{class o extends y.H{constructor(t,i){super(),this.commonService=t,this.overlayRef=i,this.isLive=!0,this.isLoading=!1,this.token=""}ngOnInit(){w.N.apiUrl.indexOf("localhost")>=0&&(this.isLive=!1)}ngAfterViewInit(){this.isLive&&this.getDocumentToken()}getDocumentToken(){this.isLoading=!0,this.sub$.sink=this.commonService.getDocumentToken(this.document.documentId).subscribe(t=>{this.token=t.result;const i=location.host,h=location.protocol;this.iframe.nativeElement.src="https://view.officeapps.live.com/op/embed.aspx?src="+encodeURIComponent(`${"/"===w.N.apiUrl?`${h}//${i}/`:w.N.apiUrl}api/document/${this.document.documentId}/officeviewer?token=${this.token}&isVersion=${this.document.isVersion}`),this.isLoading=!1},()=>{this.isLoading=!1})}onCancel(){this.overlayRef.close()}ngOnDestroy(){this.isLive?this.sub$.sink=this.commonService.deleteDocumentToken(this.token).subscribe(()=>{super.ngOnDestroy()}):super.ngOnDestroy()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(n.v),e.Y36(c.L))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-office-viewer"]],viewQuery:function(t,i){if(1&t&&e.Gf(Y,5),2&t){let h;e.iGM(h=e.CRH())&&(i.iframe=h.first)}},inputs:{document:"document"},features:[e.qOj],decls:3,vars:3,consts:[["class","preview-object","style","width: 100%;height: 89%;",4,"ngIf"],["style","text-align: center;",4,"ngIf"],["class","loading-shade",4,"ngIf"],[1,"preview-object",2,"width","100%","height","89%"],["iframe",""],[2,"text-align","center"],["src","assets/images/file-preview.png","alt","",1,"m-5"],[1,"loading-shade"]],template:function(t,i){1&t&&(e.YNc(0,F,2,0,"iframe",0),e.YNc(1,N,4,0,"div",1),e.YNc(2,V,2,0,"div",2)),2&t&&(e.Q6J("ngIf",i.isLive),e.xp6(1),e.Q6J("ngIf",!i.isLive),e.xp6(1),e.Q6J("ngIf",i.isLoading))},dependencies:[_.O5,u.Ou]}),o})();const J=["playerEl"];function H(o,r){1&o&&(e.TgZ(0,"div",4),e._UZ(1,"mat-spinner"),e.qZA())}let Z=(()=>{class o extends y.H{constructor(t,i){super(),this.overlayRef=t,this.commonService=i,this.isLoading=!1}ngOnChanges(t){t.document&&this.getDocument()}getDocument(){this.isLoading=!0,this.sub$.sink=this.commonService.downloadDocument(this.document.documentId,this.document.isVersion).subscribe(t=>{if(t.type===d.dt.Response){this.isLoading=!1,this.htmlSource&&this.player().hasChildNodes()&&this.player().removeChild(this.htmlSource);const i=new Blob([t.body],{type:t.body.type});this.htmlSource=document.createElement("source"),this.htmlSource.src=URL.createObjectURL(i),this.htmlSource.type=t.body.type,this.player().pause(),this.player().load(),this.player().appendChild(this.htmlSource),this.player().play()}},t=>{this.isLoading=!1})}player(){return this.playerEl.nativeElement}onCancel(){this.overlayRef.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.L),e.Y36(n.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-audio-preview"]],viewQuery:function(t,i){if(1&t&&e.Gf(J,7),2&t){let h;e.iGM(h=e.CRH())&&(i.playerEl=h.first)}},inputs:{document:"document"},features:[e.qOj,e.TTD],decls:4,vars:1,consts:[[1,"audio-div"],["controls","controls"],["playerEl",""],["class","loading-shade",4,"ngIf"],[1,"loading-shade"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"audio",1,2),e.qZA(),e.YNc(3,H,2,0,"div",3)),2&t&&(e.xp6(3),e.Q6J("ngIf",i.isLoading))},dependencies:[_.O5,u.Ou],styles:[".audio-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;min-height:calc(100vh - 60px);background:rgba(15,15,15,.9490196078)}"]}),o})();function $(o,r){1&o&&(e.TgZ(0,"div",4),e._UZ(1,"mat-spinner"),e.qZA())}let j=(()=>{class o extends Z{constructor(t,i){super(t,i),this.overlayRef=t,this.commonService=i}ngOnChanges(t){t.document&&this.getDocument()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(c.L),e.Y36(n.v))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-video-preview"]],features:[e.qOj,e.TTD],decls:4,vars:1,consts:[[1,"video-div"],["controls","controls"],["playerEl",""],["class","loading-shade",4,"ngIf"],[1,"loading-shade"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"video",1,2),e.qZA(),e.YNc(3,$,2,0,"div",3)),2&t&&(e.xp6(3),e.Q6J("ngIf",i.isLoading))},dependencies:[_.O5,u.Ou],styles:[".video-div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;min-height:calc(100vh - 60px);background:rgba(15,15,15,.9490196078)}video[_ngcontent-%COMP%]{width:65vw}"]}),o})();function G(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"span",8),e.NdJ("click",function(){e.CHM(t);const h=e.oxw();return e.KtG(h.downloadDocument(h.currentDoc))}),e._UZ(1,"i",9),e.qZA()}}function K(o,r){if(1&o&&e._UZ(0,"app-image-preview",10),2&o){const t=e.oxw();e.Q6J("document",t.currentDoc)}}function z(o,r){if(1&o&&e._UZ(0,"app-office-viewer",10),2&o){const t=e.oxw();e.Q6J("document",t.currentDoc)}}function W(o,r){if(1&o&&e._UZ(0,"app-pdf-viewer",10),2&o){const t=e.oxw();e.Q6J("document",t.currentDoc)}}function X(o,r){if(1&o&&e._UZ(0,"app-text-preview",10),2&o){const t=e.oxw();e.Q6J("document",t.currentDoc)}}function q(o,r){if(1&o&&e._UZ(0,"app-audio-preview",10),2&o){const t=e.oxw();e.Q6J("document",t.currentDoc)}}function ee(o,r){if(1&o&&e._UZ(0,"app-video-preview",10),2&o){const t=e.oxw();e.Q6J("document",t.currentDoc)}}function te(o,r){1&o&&(e.TgZ(0,"div",11),e._UZ(1,"mat-spinner"),e.qZA())}let oe=(()=>{class o extends y.H{constructor(t,i,h,g,E,ne,ie){super(),this.overlay=t,this.commonService=i,this.data=h,this.clonerService=g,this.overlayRef=E,this.toastrService=ne,this.translationService=ie,this.type="",this.isLoading=!1,this.isDownloadFlag=!1}ngOnInit(){this.onDocumentView(this.data)}closeToolbar(){this.overlayRef.close()}onDocumentView(t){this.currentDoc=this.clonerService.deepClone(t);const h=w.N.allowExtesions.find(g=>g.extentions.find(E=>E===t.extension));this.type=h?h.type:"",this.getIsDownloadFlag(t),this.addDocumentTrail(t.isVersion?t.id:t.documentId,l.g.Read.toString())}addDocumentTrail(t,i){this.sub$.sink=this.commonService.addDocumentAuditTrail({documentId:t,operationName:i}).subscribe(g=>{})}getIsDownloadFlag(t){this.sub$.sink=this.commonService.isDownloadFlag(this.data.isVersion?t.id:t.documentId,this.data.isFromPreview).subscribe(i=>{this.isDownloadFlag=i})}downloadDocument(t){this.sub$.sink=this.commonService.downloadDocument(this.currentDoc.documentId,t.isVersion).subscribe(i=>{i.type===d.dt.Response&&(this.addDocumentTrail(t.isVersion?t.id:t.documentId,l.g.Download.toString()),this.downloadFile(i,t))},i=>{this.toastrService.error(this.translationService.getValue("ERROR_WHILE_DOWNLOADING_DOCUMENT"))})}downloadFile(t,i){const h=new Blob([t.body],{type:t.body.type}),g=document.createElement("a");g.setAttribute("style","display:none;"),document.body.appendChild(g),g.download=this.data.name,g.href=URL.createObjectURL(h),g.target="_blank",g.click(),document.body.removeChild(g)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(x.T),e.Y36(n.v),e.Y36(P.p),e.Y36(m.$),e.Y36(c.L),e.Y36(O._W),e.Y36(L.D))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-base-preview"]],features:[e.qOj],decls:14,vars:10,consts:[[1,"file-preview-toolbar","d-flex"],[1,"back-arrow"],[1,"fas","fa-arrow-left",3,"click"],[1,"file-name","flex-grow-1"],["class","back-arrow",3,"click",4,"ngIf"],[3,"ngSwitch"],[3,"document",4,"ngSwitchCase"],["class","loading-shade",4,"ngIf"],[1,"back-arrow",3,"click"],[1,"fas","fa-arrow-down"],[3,"document"],[1,"loading-shade"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"span",1)(2,"i",2),e.NdJ("click",function(){return i.closeToolbar()}),e.qZA()(),e.TgZ(3,"span",3),e._uU(4),e.qZA(),e.YNc(5,G,2,0,"span",4),e.qZA(),e.ynx(6,5),e.YNc(7,K,1,1,"app-image-preview",6),e.YNc(8,z,1,1,"app-office-viewer",6),e.YNc(9,W,1,1,"app-pdf-viewer",6),e.YNc(10,X,1,1,"app-text-preview",6),e.YNc(11,q,1,1,"app-audio-preview",6),e.YNc(12,ee,1,1,"app-video-preview",6),e.BQk(),e.YNc(13,te,2,0,"div",7)),2&t&&(e.xp6(4),e.Oqu(null==i.currentDoc?null:i.currentDoc.name),e.xp6(1),e.Q6J("ngIf",i.isDownloadFlag),e.xp6(1),e.Q6J("ngSwitch",i.type),e.xp6(1),e.Q6J("ngSwitchCase","image"),e.xp6(1),e.Q6J("ngSwitchCase","office"),e.xp6(1),e.Q6J("ngSwitchCase","pdf"),e.xp6(1),e.Q6J("ngSwitchCase","text"),e.xp6(1),e.Q6J("ngSwitchCase","audio"),e.xp6(1),e.Q6J("ngSwitchCase","video"),e.xp6(1),e.Q6J("ngIf",i.isLoading))},dependencies:[_.O5,_.RF,_.n9,u.Ou,T,B,M,Q,Z,j],styles:["[_nghost-%COMP%]     #aligner{display:none!important;visibility:hidden!important}.file-preview-toolbar[_ngcontent-%COMP%]{top:0;left:0;display:flex;width:100%;align-items:center;color:var(--be-accent-contrast);height:60px;padding:0 15px;background:#673ab7;z-index:10}.back-arrow[_ngcontent-%COMP%]{color:#fff;font-size:x-large;font-weight:700;cursor:pointer;margin-right:10px}.download-button[_ngcontent-%COMP%]{position:absolute;right:30px}.file-name[_ngcontent-%COMP%]{color:#fff;margin-left:10px}"]}),o})()},5854:(b,v,s)=>{s.d(v,{p:()=>l});const l=new(s(4650).OlP)("OVERLAY_PANEL_DATA")},4786:(b,v,s)=>{s.d(v,{L:()=>P});var d=s(7579),l=s(5698);class P{constructor(e){this.overlayRef=e,this.id=function w(y=36){let e="";const x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<y;n++)e+=x.charAt(Math.floor(Math.random()*x.length));return e}(15),this.value=new d.x}isOpen(){return this.overlayRef&&this.overlayRef.hasAttached()}close(){this.overlayRef&&this.overlayRef.dispose()}emitValue(e){this.value.next(e)}valueChanged(){return this.value.asObservable()}getPanelEl(){return this.overlayRef.overlayElement}updatePosition(){return this.overlayRef.updatePosition()}afterClosed(){return this.overlayRef.detachments().pipe((0,l.q)(1))}}},1218:(b,v,s)=>{s.d(v,{T:()=>_});var d=s(4650),l=s(4080),w=s(4786),P=s(5854);class y{attach(){}enable(){document.documentElement.classList.add("be-fullscreen-overlay-scrollblock")}disable(){document.documentElement.classList.remove("be-fullscreen-overlay-scrollblock")}}var e=s(9300),x=s(9521),n=s(8184),m=s(2289),c=s(1135);let O=(()=>{class u{constructor(a){this.breakpointObserver=a,this.isMobile$=new c.X(!1),this.isTablet$=new c.X(!1),this.breakpointObserver.observe(m.u3.Handset).subscribe(f=>{this.isMobile$.next(f.matches)}),this.breakpointObserver.observe(m.u3.Tablet).subscribe(f=>{this.isTablet$.next(f.matches)})}observe(a){return this.breakpointObserver.observe(a)}}return u.\u0275fac=function(a){return new(a||u)(d.LFG(m.Yg))},u.\u0275prov=d.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();const L={hasBackdrop:!0,closeOnBackdropClick:!0,panelClass:"overlay-panel"};let _=(()=>{class u{constructor(a,f,p){this.overlay=a,this.breakpoints=f,this.injector=p}open(a,f){const p=Object.assign({},L,f),T={positionStrategy:this.getPositionStrategy(p),hasBackdrop:p.hasBackdrop,panelClass:p.panelClass,backdropClass:p.backdropClass,scrollStrategy:this.getScrollStrategy(p),disposeOnNavigation:!0};p.width&&(T.width=p.width),p.height&&(T.height=p.height),p.maxHeight&&(T.maxHeight=p.maxHeight),p.maxWidth&&(T.maxWidth=p.maxWidth);const C=this.overlay.create(T),S=new w.L(C),I=a instanceof d.Rgc?new l.UE(a,p.viewContainerRef,p.data):new l.C5(a,p.viewContainerRef,this.createInjector(p,S));return S.componentRef=C.attach(I),p.closeOnBackdropClick&&(C.backdropClick().subscribe(()=>S.close()),C.keydownEvents().pipe((0,e.h)(B=>B.keyCode===x.hY)).subscribe(()=>S.close())),S}getScrollStrategy(a){return a.fullScreen?new y:"close"===a.scrollStrategy?this.overlay.scrollStrategies.close():null}createInjector(a,f){const p=new WeakMap;return p.set(w.L,f),p.set(P.p,a.data||null),new l.nK(this.injector,p)}getPositionStrategy(a){if(a.positionStrategy)return a.positionStrategy;const f=this.breakpoints.isMobile$.value&&a.mobilePosition||a.position;return"global"===a.origin||this.positionIsGlobal(f)?this.getGlobalPositionStrategy(f):this.getConnectedPositionStrategy(f,a.origin)}positionIsGlobal(a){return"center"===a||!Array.isArray(a)}getGlobalPositionStrategy(a){if("center"===a)return this.overlay.position().global().centerHorizontally().centerVertically();{const f=this.overlay.position().global();return Object.keys(a).forEach(p=>{f[p](a[p])}),f}}getConnectedPositionStrategy(a,f){return this.overlay.position().flexibleConnectedTo(f).withPositions(a).withPush(!0).withViewportMargin(5)}}return u.\u0275fac=function(a){return new(a||u)(d.LFG(n.aV),d.LFG(O),d.LFG(d.zs3))},u.\u0275prov=d.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);